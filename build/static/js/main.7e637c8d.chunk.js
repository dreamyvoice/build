(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{54:function(t,e,a){},64:function(t,e,a){},65:function(t,e,a){},69:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a(30),c=a.n(s),i=a(10),o=a(11),r=a(8),u=a(13),h=a(12),l=a(15),d=a.n(l),j=a(31),b=a(2),m=(a(54),a(1)),g=function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={username:"",password:""},n.handleSubmit=n.handleSubmit.bind(Object(r.a)(n)),n.handleChange=n.handleChange.bind(Object(r.a)(n)),n}return Object(o.a)(a,[{key:"handleSubmit",value:function(){var t=this,e=this.state,a=e.username,n=e.password;d.a.post("".concat("http://ec2-3-35-21-245.ap-northeast-2.compute.amazonaws.com","/signin"),{username:a,password:n}).then((function(e){localStorage.setItem("accessToken",e.data),t.props.handleStatus()})).catch((function(e){t.setState({username:"",password:""}),401===e.response.status&&alert("\uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694!")}))}},{key:"handleChange",value:function(t){this.setState(Object(j.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"form-container",children:Object(m.jsxs)("form",{className:"form-items",onSubmit:function(t){return t.preventDefault()},children:[Object(m.jsx)("div",{className:"login",children:"Login"}),Object(m.jsx)("input",{type:"text",name:"username",placeholder:"\uc774\ub984",value:this.state.username,onChange:this.handleChange}),Object(m.jsx)("input",{type:"password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:this.state.password,onChange:this.handleChange}),Object(m.jsx)("button",{type:"submit",onClick:this.handleSubmit,children:"\ub85c\uadf8\uc778"})]})})}}]),a}(n.Component),p=Object(b.d)(g),O=(a(64),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).handleLogout=n.handleLogout.bind(Object(r.a)(n)),n}return Object(o.a)(a,[{key:"handleLogout",value:function(){localStorage.removeItem("accessToken"),this.props.changeLoginStatus()}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"main-container",children:[Object(m.jsx)("div",{className:"session",children:"\ub85c\uadf8\uc778 \uc131\uacf5"}),Object(m.jsx)("button",{type:"submit",onClick:this.handleLogout,children:"\ub85c\uadf8\uc544\uc6c3"})]})}}]),a}(n.Component)),v=(a(65),function(t){Object(u.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={isLogin:!1,status:""},n.handleStatus=n.handleStatus.bind(Object(r.a)(n)),n.changeLoginStatus=n.changeLoginStatus.bind(Object(r.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleStatus()}},{key:"handleStatus",value:function(){var t=this;d.a.get("".concat("http://ec2-3-35-21-245.ap-northeast-2.compute.amazonaws.com","/status"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}).then((function(e){t.setState({isLogin:e.data.isLogin,status:e.data.isConnectedToDatabase})})).catch((function(t){return console.log(t)}))}},{key:"changeLoginStatus",value:function(){this.setState({isLogin:!1,status:""})}},{key:"render",value:function(){var t=this.state.isLogin;return Object(m.jsx)("div",{className:"app",children:Object(m.jsx)("div",{className:"container",children:t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"success",children:"\ub85c\uadf8\uc778\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4"}),Object(m.jsx)(O,{changeLoginStatus:this.changeLoginStatus})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"status",children:"\uc774\ub984\uc5d0\ub294 \uae40\ucf54\ub529,\ube44\ubc00\ubc88\ud638\uc5d0\ub294 1234\ub9cc \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4"}),Object(m.jsx)(p,{handleStatus:this.handleStatus})]})})})}}]),a}(n.Component)),f=a(19);a(66).config(),c.a.render(Object(m.jsx)(f.a,{children:Object(m.jsx)(v,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.7e637c8d.chunk.js.map